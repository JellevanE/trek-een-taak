
.App {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    /* leave room for the fixed global progress bar at the top */
    padding: 60px 12px 48px;
    box-sizing: border-box;
}

.App-header {
    width: 100%;
    max-width: 980px;
    margin: 0 auto 18px;
    padding: 18px 20px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));
    border: 1px solid rgba(255,255,255,0.03);
    border-left: 3px solid var(--accent-pink);
    border-radius: 8px;
    box-shadow: 0 6px 24px rgba(0,0,0,0.6), 0 0 18px rgba(155,92,255,0.06) inset;
    position: relative;
}

/* Global sticky progress bar at the top of the app (always visible) */
.global-progress-sticky{
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 44px;
    z-index: 1500;
    display:flex;
    align-items:center;
    justify-content:center;
    pointer-events: none; /* allow clicks to pass through except on children */
    background: linear-gradient(180deg, rgba(0,0,0,0.24), rgba(0,0,0,0.12));
    backdrop-filter: blur(6px);
    border-bottom: 1px solid rgba(255,255,255,0.02);
}
.global-progress-inner{
    pointer-events: auto;
    width: min(980px, 98%);
    display:flex;
    align-items:center;
    gap:12px;
    flex-wrap: wrap;
}
.global-progress-label{ font-size:12px; color:var(--muted); min-width:72px }
/* the track is a clear full-width bar to indicate daily completion */
.global-progress-track{ flex:1; height:10px; background: rgba(255,255,255,0.03); border-radius: 999px; overflow:hidden; border: 1px solid rgba(255,255,255,0.03) }
.global-progress-fill{ height:100%; background: linear-gradient(90deg,var(--accent-cyan),var(--accent-purple)); transition: width .28s ease }
.global-progress-mood{ display:flex; align-items:center; gap:6px; font-size:12px; color:var(--muted); min-width:138px; text-transform:uppercase; letter-spacing:0.6px }
.global-progress-mood .mood-emoji{ font-size:16px; opacity:0.9; filter: drop-shadow(0 0 6px rgba(0,0,0,0.4)); }
.global-progress-mood .mood-label{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:200px }
.global-progress-percent{ min-width:44px; text-align:right; font-weight:700; color:white }
.global-progress-fill.progress-idle{ background-size:140% 100%; animation: progress-flow 12s linear infinite; opacity:0.9 }
.global-progress-fill.progress-building{ background-size:160% 100%; animation: progress-flow 9s linear infinite; box-shadow: 0 0 18px rgba(0,0,0,0.2) inset; }
.global-progress-fill.progress-ready{ background-size:190% 100%; animation: progress-flow 7s linear infinite; box-shadow: 0 0 14px rgba(255,255,255,0.12); }
.global-progress-fill.progress-heroic{ background-size:220% 100%; animation: progress-flow 5s linear infinite; box-shadow: 0 0 18px rgba(0,240,255,0.28); }
.global-progress-fill.progress-legend{ background-size:240% 100%; animation: progress-flow 4s linear infinite; box-shadow: 0 0 24px rgba(255,255,255,0.18), 0 0 30px rgba(0,240,255,0.35); }

@keyframes progress-flow{
    0% { background-position: 0% 0%; }
    100% { background-position: 200% 0%; }
}

/* tooltips for progress bars */
.global-progress-track, .task-progress-bar{ position:relative }
.tooltip{ position:absolute; top:-36px; left:50%; transform:translateX(-50%) scale(.92); background: rgba(0,0,0,0.75); color:white; padding:6px 8px; border-radius:6px; font-size:12px; white-space:nowrap; opacity:0; pointer-events:none; transition: opacity .18s ease, transform .18s ease }
.global-progress-track:hover .tooltip, .task-progress-bar:hover .tooltip{ opacity:1; transform:translateX(-50%) scale(1) }

/* animated fill easing and micro bounce */
.task-progress-fill, .global-progress-fill{ transition: width .5s cubic-bezier(.2,.9,.2,1), background .25s ease }
.task-progress-fill{ box-shadow: 0 6px 18px rgba(0,0,0,0.45) inset }

/* small responsive tweaks */
@media (max-width:600px){
    .global-progress-percent{ display:none }
    .global-progress-label{ min-width:50px }
    .global-progress-mood{ min-width:auto; font-size:10px }
    .global-progress-mood .mood-label{ display:none }
    .global-progress-mood .mood-emoji{ font-size:14px }
}

.App-header h1 {
    margin: 0;
    color: white;
    letter-spacing: 1px;
    font-size: 18px;
    text-shadow: 0 0 8px rgba(0,240,255,0.24), 0 0 16px rgba(255,46,196,0.08);
}

.App-header .subtitle {
    font-size: 10px;
    color: var(--muted);
    margin-top: 6px;
}

.board-layout{
    width:100%;
    max-width:1080px;
    margin:0 auto;
    position:relative;
    display:flex;
    justify-content:center;
}

.campaign-sidebar{
    position:absolute;
    top:0;
    left:-84px;
    width:260px;
    background: rgba(12,16,26,0.98);
    border:1px solid rgba(0,0,0,0.6);
    border-radius:12px;
    padding:14px;
    box-shadow:0 18px 42px rgba(0,0,0,0.55);
    display:flex;
    flex-direction:column;
    gap:12px;
    z-index:1400;
}

.campaign-sidebar.collapsed{
    width:68px;
    padding:14px 8px;
    align-items:center;
    gap:8px;
}

.campaign-sidebar-header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:8px;
}

.collapse-toggle{
    background: rgba(255,255,255,0.04);
    border:1px solid rgba(255,255,255,0.06);
    color: var(--muted);
    width:28px;
    height:28px;
    border-radius:8px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:600;
}

.campaign-sidebar-title{
    font-size:12px;
    letter-spacing:0.6px;
    text-transform:uppercase;
    color:var(--muted);
}

.campaign-sidebar-content{
    display:flex;
    flex-direction:column;
    gap:10px;
}

.campaign-actions{
    display:flex;
    align-items:center;
    gap:8px;
    flex-wrap:wrap;
}

.campaign-pill.create{
    font-size:20px;
    font-weight:700;
    line-height:1;
}

.campaign-filter{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:8px 10px;
    border-radius:8px;
    background: rgba(255,255,255,0.02);
    color:var(--muted);
    border:1px solid transparent;
    text-align:left;
}

.campaign-filter.active{
    background: rgba(0,240,255,0.12);
    color:#ffffff;
    border-color: rgba(0,240,255,0.25);
}

.campaign-filter-label{
    font-size:12px;
    letter-spacing:0.4px;
    text-transform:uppercase;
}

.campaign-list{
    display:flex;
    flex-direction:column;
    gap:8px;
}

.campaign-item{
    display:flex;
    align-items:center;
    gap:10px;
    padding:8px 10px;
    border-radius:10px;
    background: rgba(0,0,0,0.25);
    border:1px solid rgba(255,255,255,0.04);
    color:inherit;
    text-align:left;
}

.campaign-item:hover{
    border-color: rgba(0,240,255,0.18);
}

.campaign-item.active{
    border-color: rgba(0,240,255,0.45);
    box-shadow:0 0 0 1px rgba(0,240,255,0.25);
}

.campaign-avatar{
    width:32px;
    height:32px;
    border-radius:8px;
    background: rgba(255,255,255,0.06);
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:600;
    color:#fff;
    overflow:hidden;
}

.campaign-avatar img{
    width:100%;
    height:100%;
    object-fit:cover;
}

.campaign-meta{
    display:flex;
    flex-direction:column;
    gap:2px;
    min-width:0;
}

.campaign-name{
    font-size:13px;
    font-weight:600;
    color:#fff;
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
}

.campaign-progress{
    font-size:11px;
    color:var(--muted);
}

.campaign-empty{
    font-size:12px;
    color:var(--muted);
    border:1px dashed rgba(255,255,255,0.08);
    border-radius:8px;
    padding:12px;
    text-align:center;
}

.campaign-form{
    border:1px solid rgba(0,240,255,0.25);
    border-radius:10px;
    background: rgba(0,0,0,0.3);
    padding:12px;
    display:flex;
    flex-direction:column;
    gap:10px;
    box-shadow:0 10px 28px rgba(0,0,0,0.35);
}

.campaign-form-title{
    font-size:12px;
    text-transform:uppercase;
    letter-spacing:0.6px;
    color:var(--muted);
}

.campaign-form-field{
    display:flex;
    flex-direction:column;
    gap:6px;
    font-size:12px;
    color:var(--muted);
}

.campaign-form-field input,
.campaign-form-field textarea{
    background: rgba(255,255,255,0.04);
    border:1px solid rgba(255,255,255,0.08);
    border-radius:6px;
    padding:8px 10px;
    color:#fff;
    font-size:13px;
    font-family: inherit;
    resize: vertical;
}

.campaign-form-field input:disabled,
.campaign-form-field textarea:disabled{
    opacity:0.7;
}

.campaign-form-error{
    font-size:12px;
    color:#ff8ba7;
    background: rgba(255,46,196,0.1);
    border:1px solid rgba(255,46,196,0.3);
    padding:8px;
    border-radius:6px;
}

.campaign-form-actions{
    display:flex;
    gap:8px;
}

.campaign-sidebar-collapsed{
    display:flex;
    flex-direction:column;
    gap:8px;
    align-items:center;
}

.campaign-pill{
    width:40px;
    height:40px;
    border-radius:10px;
    border:1px solid rgba(255,255,255,0.05);
    background: rgba(255,255,255,0.02);
    color:var(--muted);
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:600;
}

.campaign-pill img{
    width:100%;
    height:100%;
    object-fit:cover;
    border-radius:inherit;
}

.campaign-pill.active{
    border-color: rgba(0,240,255,0.4);
    color:#fff;
    box-shadow:0 0 12px rgba(0,240,255,0.15);
}

.board-main{
    position:relative;
    z-index:1;
    width:100%;
    max-width:980px;
    margin:0 auto;
    padding:0 12px;
    display:flex;
    flex-direction:column;
    gap:18px;
}

.add-task-form {
    display:flex;
    gap:12px;
    justify-content:center;
    align-items:center;
    margin: 12px auto 18px;
    flex-wrap: wrap;
    max-width:100%;
}

.add-task-form input,
.edit-task-form input,
.add-subtask-form input{
    background: rgba(255,255,255,0.02);
    border: 1px solid rgba(255,255,255,0.06);
    color: white;
    padding: 10px 12px;
    border-radius: 6px;
    outline: none;
    box-shadow: 0 2px 10px rgba(0,0,0,0.6) inset;
    min-width: 160px;
}

.add-task-form input::placeholder { color: rgba(255,255,255,0.28);} 

.campaign-select{
    min-width:160px;
}

.campaign-select select{
    background: rgba(255,255,255,0.02);
    border: 1px solid rgba(255,255,255,0.06);
    color:#fff;
    padding:10px 12px;
    border-radius:6px;
    outline:none;
}

.campaign-select select:focus{
    border-color: rgba(0,240,255,0.35);
    box-shadow:0 0 0 1px rgba(0,240,255,0.25);
}

.edit-quest-form{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    align-items:center;
}

.edit-quest-form .cycle-toggle{
    flex:0 0 auto;
}

.btn-primary {
    background: linear-gradient(90deg,var(--accent-cyan),var(--accent-pink));
    color: #001018;
    padding: 10px 14px;
    border-radius: 8px;
    border: 0;
    cursor: pointer;
    box-shadow: 0 6px 20px rgba(0,240,255,0.08), 0 0 14px rgba(255,46,196,0.06);
    font-weight: 700;
}

.btn-ghost {
    background: transparent;
    color: var(--muted);
    border: 1px dashed rgba(255,255,255,0.04);
    padding: 8px 10px;
    border-radius: 6px;
    cursor: pointer;
}

.task-container,
.quest-container {
    display: flex;
    flex-direction: column;
    gap: 12px;
    width:100%;
    max-width:980px;
    padding: 6px;
    box-sizing:border-box;
}

.task,
.quest {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.08));
    border-radius: 8px;
    padding: 14px;
    margin: 0;
    text-align: left;
    border: 1px solid rgba(155,92,255,0.12);
    position: relative;
    overflow: hidden;
    box-shadow: 0 8px 30px rgba(0,0,0,0.6), 0 0 18px rgba(155,92,255,0.04) inset;
}

.task::before,
.quest::before{
    content: "";
    position:absolute;
    left:-40%;
    top:-60%;
    width:200%;
    height:200%;
    background: radial-gradient(circle at 20% 20%, rgba(0,240,255,0.03), transparent 10%), radial-gradient(circle at 80% 80%, rgba(255,46,196,0.02), transparent 15%);
    pointer-events:none;
}

.task.completed,
.quest.completed {
    opacity: 0.6;
    filter: grayscale(20%);
    text-decoration: line-through;
}

.quest.selected {
    border-color: rgba(0,240,255,0.45);
    box-shadow: 0 0 0 1px rgba(0,240,255,0.3), 0 10px 28px rgba(0,240,255,0.1);
    transform: translateY(-1px);
}

.quest.selected::before{
    opacity:0.4;
}

.task h3,
.quest h3 {
    margin-top: 0;
}

.task.collapsed,
.quest.collapsed {
    max-height: 84px;
    overflow: hidden;
}

.task.drag-over,
.quest.drag-over {
    outline: 2px solid rgba(0,240,255,0.14);
    transform: translateY(-2px);
}

.task-header,
.quest-header {
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:12px;
}

.task-header .left,
.quest-header .left{ display:flex; flex-direction:column; align-items:flex-start; gap:6px; flex:1; min-width:0 }
.task-header .right,
.quest-header .right{ display:flex; align-items:center; justify-content:flex-end }

.quest-title-row{
    width:100%;
    display:flex;
    align-items:flex-start;
    justify-content:space-between;
    gap:12px;
}

.quest-title-row h3{
    flex:1;
    min-width:0;
}

.quest-meta-tags{
    display:flex;
    align-items:center;
    gap:8px;
    flex:0 0 auto;
}

.campaign-tag{
    margin-top:4px;
    display:inline-flex;
    align-items:center;
    gap:8px;
    padding:6px 10px;
    border-radius:999px;
    background: rgba(0,240,255,0.08);
    border:1px solid rgba(0,240,255,0.18);
    color:#e5fbff;
    width:fit-content;
}

.campaign-tag.unassigned{
    background: rgba(255,255,255,0.04);
    border-color: rgba(255,255,255,0.08);
    color:var(--muted);
}

.campaign-tag-avatar{
    width:20px;
    height:20px;
    border-radius:50%;
    background: rgba(255,255,255,0.12);
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:11px;
    font-weight:600;
    overflow:hidden;
    color:#fff;
}

.campaign-tag-avatar img{
    width:100%;
    height:100%;
    object-fit:cover;
}

.campaign-tag-text{
    display:flex;
    align-items:center;
    gap:6px;
}

.campaign-tag-name{
    font-size:12px;
    font-weight:600;
}

.campaign-tag-progress{
    font-size:11px;
    color:rgba(255,255,255,0.7);
}

.task-controls button,
.quest-controls button {
    margin-left: 8px;
    padding: 6px 8px;
    border-radius: 6px;
    border: 0;
    background: rgba(255,255,255,0.02);
    color: var(--muted);
    cursor: pointer;
}

.task-controls .danger,
.quest-controls .danger {
    color: #ff7ea6;
}

.task ul,
.quest ul {
    list-style-type: none;
    padding-left: 12px;
    margin: 8px 0 0;
}

.task-row {
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
}

.subtask-desc{ font-family: 'Courier New', monospace; color: #e6f7ff; font-size:14px }
.subtask-desc.small{ font-size:12px }
.side-quest-desc{ font-family: 'Courier New', monospace; color: #e6f7ff; font-size:14px }
.side-quest-desc.small{ font-size:12px }
.quest ul { padding-left: 8px }
.quest li,
.task li { margin:8px 0; padding:6px 8px; border-radius:6px; }
.quest li.selected{
    background: rgba(0,240,255,0.08);
    box-shadow: 0 0 0 1px rgba(0,240,255,0.12);
}
.quest li.selected .side-quest-desc{ color:#fff; }
.quest li.selected .task-row{ background: rgba(0,0,0,0.25); border-radius:6px; }

.task-row.editing{
    background: rgba(0,0,0,0.35);
    border-radius:6px;
    padding:6px;
}

.side-quest-edit{ flex:1; }
.side-quest-edit input{
    width:100%;
    background: rgba(0,0,0,0.5);
    border:1px solid rgba(0,240,255,0.25);
    color:#e6f7ff;
    padding:8px 10px;
    border-radius:6px;
    font-family: inherit;
}

.toast-zone{
    position:fixed;
    right:12px;
    bottom:12px;
    display:flex;
    flex-direction:column;
    align-items:flex-end;
    gap:8px;
    z-index:2000;
}

.toast{
    min-width:200px;
    padding:10px 14px;
    border-radius:10px;
    background: rgba(0,0,0,0.75);
    color:#f5f5f5;
    box-shadow:0 12px 32px rgba(0,0,0,0.4);
    border:1px solid rgba(255,255,255,0.08);
    font-size:13px;
}

.toast.success{ background: linear-gradient(135deg, rgba(30,215,96,0.28), rgba(15,95,65,0.9)); }
.toast.error{ background: linear-gradient(135deg, rgba(255,64,64,0.32), rgba(102,16,16,0.88)); }
.toast.info{ background: linear-gradient(135deg, rgba(80,120,255,0.24), rgba(20,32,64,0.85)); }

.undo-toast{
    display:flex;
    align-items:center;
    gap:10px;
    padding:10px 14px;
    border-radius:12px;
    background: linear-gradient(135deg, rgba(0,240,255,0.12), rgba(0,0,0,0.7));
    border:1px solid rgba(0,240,255,0.25);
    box-shadow:0 10px 26px rgba(0,0,0,0.5);
}

.undo-text{
    font-size:13px;
    font-weight:600;
    letter-spacing:0.4px;
    color:#eaf9ff;
    max-width:240px;
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
}

/* ensure top-level drag handle is visually quieter; override for top handle */
.task > div > .drag-handle.top,
.quest > div > .drag-handle.top{ opacity:0; transform:translateX(-6px); }
.task:hover > div > .drag-handle.top,
.quest:hover > div > .drag-handle.top{ opacity:1; transform:translateX(0) }

.btn-small{ padding:6px 8px; font-size:12px; border-radius:6px }

/* provide a clear inset outline for grouped fields */
.task .panel,
.quest .panel {
    border: 1px solid rgba(255,255,255,0.03);
    padding:8px;
    border-radius:6px;
    background: linear-gradient(180deg, rgba(0,0,0,0.03), transparent);
}

/* Base button styles to keep UI consistent */
button{
    font-family: inherit;
    font-size: 13px;
    color: inherit;
    background: transparent;
    border: 0;
    padding: 6px 10px;
    border-radius: 6px;
    cursor: pointer;
    transition: transform .06s ease, box-shadow .08s ease, opacity .08s ease;
}

/* utility classes available: .btn-primary, .btn-ghost, .btn-danger, .btn-small */

.btn-primary{
    background: linear-gradient(90deg,var(--accent-cyan),var(--accent-pink));
    color: #001018;
    box-shadow: 0 8px 24px rgba(0,240,255,0.06), 0 0 14px rgba(255,46,196,0.06);
}

.btn-ghost{
    background: rgba(255,255,255,0.02);
    color: var(--muted);
    border: 1px solid rgba(255,255,255,0.03);
}

.btn-danger, .danger{ 
    background: linear-gradient(90deg,#ff6b88,#ff2ec4);
    color: #001018;
}

/* start and complete buttons distinct colors */
.btn-start{ background: linear-gradient(90deg,#3b82f6,#60a5fa); color:#001018; }
.btn-complete{ background: linear-gradient(90deg,#22c55e,#16a34a); color:#001018; }

/* Visual cue when a task or subtask is started */
.task.started,
.quest.started{ box-shadow: 0 10px 30px rgba(66,153,225,0.08), 0 0 24px rgba(99,102,241,0.04) inset; border-color: rgba(59,130,246,0.12); transform: translateY(-2px); transition: transform .18s ease, box-shadow .22s ease }
.task .subtask-desc.started,
.quest .side-quest-desc.started{ font-weight:700; color:#fff }
.task .subtask-desc.in-progress,
.quest .side-quest-desc.in-progress{ color: #bfe6ff }

/* more pronounced progress fill animation */
.task-progress-fill, .global-progress-fill{ transition: width .6s cubic-bezier(.2,.9,.2,1), background .3s ease }

/* pulse animation for status change feedback */
.pulse {
    animation: pulse-anim .6s ease forwards;
}
.pulse-subtle {
    animation: pulse-subtle-anim .34s cubic-bezier(.2,.9,.3,1) forwards;
}
.pulse-spawn{
    animation: pulse-spawn-anim .46s cubic-bezier(.22,1.2,.32,1) forwards;
}
@keyframes pulse-anim{
    0% { transform: scale(1); box-shadow: 0 0 0 rgba(0,0,0,0); }
    30% { transform: scale(1.02); box-shadow: 0 10px 30px rgba(0,0,0,0.18); }
    100% { transform: scale(1); box-shadow: 0 6px 18px rgba(0,0,0,0.08); }
}
@keyframes pulse-subtle-anim{
    0% { opacity: 1; transform: translateY(0) scale(1); }
    30% { opacity: 0.98; transform: translateY(-2px) scale(1.005); }
    100% { opacity: 1; transform: translateY(0) scale(1); }
}
@keyframes pulse-spawn-anim{
    0% { transform: scale(0.95); opacity: 0.2; }
    35% { transform: scale(1.03); opacity: 1; }
    100% { transform: scale(1); opacity: 1; }
}

.quest.spawn,
.task.spawn{
    animation: quest-spawn-anim .55s cubic-bezier(.22,1.2,.32,1) forwards;
}
@keyframes quest-spawn-anim{
    0% { transform: translateY(10px) scale(0.92); opacity: 0; box-shadow: 0 0 0 rgba(0,0,0,0); }
    50% { transform: translateY(-4px) scale(1.02); opacity: 1; box-shadow: 0 18px 38px rgba(0,0,0,0.45); }
    100% { transform: translateY(0) scale(1); opacity: 1; box-shadow: 0 8px 30px rgba(0,0,0,0.6); }
}

/* glow for full task completion */
.glow {
    animation: glow-anim 1.2s cubic-bezier(.2,.9,.2,1) forwards;
}
@keyframes glow-anim {
    0% { box-shadow: 0 0 0 rgba(0,0,0,0); }
    20% { box-shadow: 0 0 44px rgba(99,102,241,0.30), 0 10px 44px rgba(99,102,241,0.14) inset; }
    50% { box-shadow: 0 0 38px rgba(155,92,255,0.28), 0 8px 30px rgba(99,102,241,0.12) inset; }
    80% { box-shadow: 0 0 26px rgba(99,102,241,0.18), 0 4px 18px rgba(99,102,241,0.08) inset; }
    100% { box-shadow: 0 0 0 rgba(0,0,0,0); }
}

.level-up-burst{
    position:absolute;
    inset:0;
    pointer-events:none;
    display:flex;
    align-items:center;
    justify-content:center;
    animation: burst-fade 1.1s ease-out forwards;
}
.level-up-burst .burst-ring{
    position:absolute;
    width:160%;
    height:160%;
    border:2px dashed rgba(0,240,255,0.22);
    border-radius:999px;
    animation: burst-ring 1.1s ease-out forwards;
    opacity:0.8;
}
.level-up-burst .burst-copy{
    display:flex;
    align-items:center;
    gap:8px;
    padding:10px 16px;
    border-radius:12px;
    background: rgba(0,0,0,0.68);
    border:1px solid rgba(255,255,255,0.14);
    text-transform:uppercase;
    letter-spacing:1px;
    font-size:11px;
    color:#ffffff;
    box-shadow: 0 12px 30px rgba(0,0,0,0.35);
    animation: burst-copy 1.05s cubic-bezier(.2,.9,.2,1) forwards;
}
.level-up-burst .burst-emoji{
    font-size:16px;
    filter: drop-shadow(0 0 6px rgba(255,255,255,0.4));
}
.level-up-burst .burst-text{
    font-family: 'Press Start 2P', monospace;
}

@keyframes burst-fade{
    0% { opacity: 0; }
    15% { opacity: 1; }
    70% { opacity: 1; }
    100% { opacity: 0; }
}
@keyframes burst-ring{
    0% { transform: scale(0.6); opacity: 0.3; border-color: rgba(0,240,255,0.12); }
    40% { transform: scale(1); opacity: 0.8; border-color: rgba(255,255,255,0.22); }
    100% { transform: scale(1.25); opacity: 0; border-color: rgba(255,255,255,0); }
}
@keyframes burst-copy{
    0% { transform: translateY(12px) scale(0.9); opacity: 0; }
    30% { transform: translateY(0) scale(1); opacity: 1; }
    70% { transform: translateY(-4px) scale(1.02); opacity: 1; }
    100% { transform: translateY(-6px) scale(1.02); opacity: 0; }
}

button:active{ transform: translateY(1px) }
button:focus{ outline: 2px solid rgba(155,92,255,0.12); outline-offset: 2px }

/* Task info hierarchy */
.task h3,
.quest h3{ color: white; font-size:16px; margin:0; line-height:1.1; text-overflow:ellipsis; white-space:nowrap; overflow:hidden }
.priority-tag{ font-size:11px; padding:6px 10px; }
.task-details,
.quest-details{ margin-top:8px; display:flex; gap:12px; flex-wrap:wrap }
.task-details .muted,
.quest-details .muted{ color:var(--muted); font-size:12px }
.task-details .small,
.quest-details .small{ font-size:11px; color:var(--muted) }

/* Per-task progress */
.task-progress-wrap,
.quest-progress-wrap{ width:100%; margin-bottom:8px }
.task-progress,
.quest-progress{ display:flex; align-items:center; gap:8px }
.task-progress-bar,
.quest-progress-bar{ flex:1; height:10px; background: rgba(255,255,255,0.03); border-radius:999px; overflow:hidden; border:1px solid rgba(255,255,255,0.03) }
.task-progress-fill,
.quest-progress-fill{ height:100%; background: linear-gradient(90deg,#9b5cff,#ff2ec4); transition: width .24s ease }
.task-progress-meta,
.quest-progress-meta{ min-width:44px; font-weight:700; color:var(--muted); font-size:13px }

/* Drag handle and insertion indicator */
.drag-handle {
    width:18px;
    height:18px;
    display:inline-block;
    margin-right:8px;
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.06));
    border-radius:4px;
    border:1px solid rgba(255,255,255,0.03);
    cursor:grab;
    display:flex;align-items:center;justify-content:center;color:var(--muted);font-size:10px
}

/* hide the top-level task hamburger by default; show on hover to reduce visual clutter */
.task > div > .drag-handle:first-child,
.quest > div > .drag-handle:first-child{ opacity:0; transform:translateX(-6px); transition:opacity .12s, transform .12s }
.task:hover > div > .drag-handle:first-child,
.quest:hover > div > .drag-handle:first-child{ opacity:1; transform:translateX(0) }

.task[data-dragging="true"],
.quest[data-dragging="true"]{ opacity:0.5 }

.insert-indicator {
    height: 6px;
    background: linear-gradient(90deg, rgba(0,240,255,0.16), rgba(255,46,196,0.14));
    border-radius:3px;
    margin:4px 0;
    transition: opacity .12s;
}

.add-subtask-button.large,
.add-side-quest-button.large{
    padding: 10px 14px;
    font-size:14px;
    border-radius:10px;
}

.drag-handle[draggable]{ cursor:grab }
.insert-indicator{ z-index:2 }

.add-subtask-button,
.add-side-quest-button{
    background: linear-gradient(90deg,var(--accent-purple),var(--accent-pink));
    color: #001018;
    padding: 8px 10px;
    border-radius: 8px;
    border: 0;
    cursor: pointer;
}

.add-subtask-form button{ padding:6px 8px }

.task li.completed {
    text-decoration: line-through;
}

.edit-task-form {
    display:flex;
    gap:8px;
    align-items:center;
}

.edit-task-form input, .add-subtask-form input{
    margin-right: 10px;
    padding: 10px;
    border-radius: 5px;
    border: 1px solid #ccc;
}

.add-subtask-form {
    display:flex;
    gap:8px;
    align-items:center;
    margin-top: 10px;
}

.profile-modal {
    position: fixed;
    right: 18px;
    top: 70px;
    z-index: 2000;
}
.profile-box {
    background: linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.4));
    border: 1px solid rgba(255,255,255,0.04);
    padding: 12px;
    border-radius: 8px;
    min-width: 260px;
    color: white;
}

.auth-required-screen {
    max-width: 400px;
    padding: 32px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));
    border: 1px solid rgba(255,255,255,0.03);
    border-left: 3px solid var(--accent-pink);
    border-radius: 12px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.5), 0 0 24px rgba(155,92,255,0.08) inset;
}

.auth-required-screen h2 {
    margin: 0 0 12px 0;
    color: var(--text-primary);
    font-size: 24px;
}

.auth-required-screen .profile-box {
    min-width: 100%;
    box-sizing: border-box;
}

/* Registration Wizard Styles */
.registration-wizard {
    max-width: 500px;
    margin: 0 auto;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));
    border: 1px solid rgba(255,255,255,0.03);
    border-left: 3px solid var(--accent-pink);
    border-radius: 12px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.5), 0 0 24px rgba(155,92,255,0.08) inset;
    overflow: hidden;
}

.wizard-header {
    padding: 24px 32px 16px;
    text-align: center;
    background: linear-gradient(180deg, rgba(155,92,255,0.1), transparent);
}

.wizard-header h1 {
    margin: 0 0 16px 0;
    font-size: 24px;
    color: var(--text-primary);
}

.progress-indicator {
    display: flex;
    flex-direction: column;
    gap: 8px;
    align-items: center;
}

.progress-bar {
    width: 200px;
    height: 6px;
    background: rgba(255,255,255,0.1);
    border-radius: 3px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--accent-pink), var(--accent-purple));
    border-radius: 3px;
    transition: width 0.4s ease-out;
}

.progress-text {
    font-size: 12px;
    color: var(--text-muted);
}

.wizard-content {
    padding: 0;
}

.registration-step {
    padding: 32px;
}

.step-header {
    text-align: center;
    margin-bottom: 32px;
}

.step-header h2 {
    margin: 0 0 8px 0;
    font-size: 20px;
    color: var(--text-primary);
}

.step-header p {
    margin: 0;
    color: var(--text-muted);
    font-size: 14px;
}

.registration-form {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.form-group label {
    font-size: 14px;
    font-weight: 500;
    color: var(--text-primary);
}

.registration-form input,
.registration-form textarea {
    padding: 12px 16px;
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 8px;
    color: var(--text-primary);
    font-size: 16px;
    transition: all 0.2s ease-out;
}

.registration-form input:focus,
.registration-form textarea:focus {
    outline: none;
    border-color: var(--accent-pink);
    background: rgba(255,255,255,0.08);
    box-shadow: 0 0 0 3px rgba(155,92,255,0.1);
}

.registration-form input.error,
.registration-form textarea.error {
    border-color: #ef4444;
    background: rgba(239,68,68,0.1);
}

.registration-form input::placeholder,
.registration-form textarea::placeholder {
    color: rgba(255,255,255,0.4);
}

.password-input-container {
    position: relative;
}

.password-toggle {
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    font-size: 16px;
    padding: 4px;
    border-radius: 4px;
    transition: color 0.2s ease;
}

.password-toggle:hover {
    color: var(--text-primary);
}

.password-strength {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 4px;
}

.strength-meter {
    flex: 1;
    height: 4px;
    background: rgba(255,255,255,0.1);
    border-radius: 2px;
    overflow: hidden;
}

.strength-fill {
    height: 100%;
    border-radius: 2px;
    transition: all 0.3s ease;
}

.strength-meter.weak .strength-fill {
    width: 30%;
    background: #ef4444;
}

.strength-meter.medium .strength-fill {
    width: 60%;
    background: #f59e0b;
}

.strength-meter.strong .strength-fill {
    width: 100%;
    background: #22c55e;
}

.strength-text {
    font-size: 12px;
    min-width: 50px;
}

.strength-meter.weak + .strength-text { color: #ef4444; }
.strength-meter.medium + .strength-text { color: #f59e0b; }
.strength-meter.strong + .strength-text { color: #22c55e; }

.error-message {
    color: #ef4444;
    font-size: 12px;
    margin-top: 4px;
}

.error-banner {
    margin: 16px 32px 0;
    padding: 12px 16px;
    background: rgba(239,68,68,0.1);
    border: 1px solid rgba(239,68,68,0.2);
    border-radius: 8px;
    color: #ef4444;
}

.error-content {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 12px;
    font-size: 14px;
}

.error-dismiss {
    background: none;
    border: none;
    color: #ef4444;
    cursor: pointer;
    font-size: 18px;
    line-height: 1;
    padding: 0;
    margin: 0;
    min-width: 20px;
}

.class-selection {
    display: grid;
    grid-template-columns: 1fr;
    gap: 12px;
}

.class-option {
    cursor: pointer;
}

.class-option input[type="radio"] {
    display: none;
}

.class-card {
    padding: 16px;
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 8px;
    background: rgba(255,255,255,0.02);
    transition: all 0.2s ease;
}

.class-option:hover .class-card {
    border-color: rgba(255,255,255,0.2);
    background: rgba(255,255,255,0.05);
}

.class-option input:checked + .class-card {
    border-color: var(--accent-pink);
    background: rgba(155,92,255,0.1);
    box-shadow: 0 0 0 1px rgba(155,92,255,0.2);
}

.class-name {
    font-size: 16px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 4px;
}

.class-description {
    font-size: 13px;
    color: var(--text-muted);
}

.form-actions {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
    margin-top: 24px;
    padding-top: 24px;
    border-top: 1px solid rgba(255,255,255,0.05);
}

.wizard-footer {
    padding: 16px 32px;
    text-align: center;
    background: rgba(0,0,0,0.2);
    border-top: 1px solid rgba(255,255,255,0.05);
}

/* Enhanced Profile Box for Login Form */
.login-form {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-bottom: 16px;
}

.login-form input {
    padding: 12px 16px;
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 8px;
    color: var(--text-primary);
    font-size: 16px;
}

.login-form input:focus {
    outline: none;
    border-color: var(--accent-pink);
    background: rgba(255,255,255,0.08);
}

.auth-divider {
    text-align: center;
    margin: 16px 0;
    position: relative;
}

.auth-divider::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 1px;
    background: rgba(255,255,255,0.1);
}

.auth-divider span {
    background: rgba(0,0,0,0.6);
    padding: 0 16px;
    font-size: 12px;
    color: var(--text-muted);
    position: relative;
}

.btn-full-width {
    width: 100%;
}

/* Mobile Responsiveness */
@media (max-width: 768px) {
    .registration-wizard {
        margin: 16px;
        max-width: none;
    }
    
    .wizard-header,
    .registration-step,
    .wizard-footer {
        padding: 20px;
    }
    
    .step-header {
        margin-bottom: 24px;
    }
    
    .class-selection {
        gap: 8px;
    }
    
    .class-card {
        padding: 12px;
    }
}

.add-subtask-form input {
    margin-right: 10px;
    padding: 10px;
    border-radius: 5px;
    border: 1px solid #ccc;
}

.task button {
    margin-left: 8px;
}

/* small neon tag for priority */
.priority-tag {
    display:inline-block;
    padding:4px 8px;
    border-radius:999px;
    font-size:11px;
    color:#001018;
    font-weight:700;
}
.priority-low{ background: linear-gradient(90deg,#9b5cff,#6bf2ff);} 
.priority-medium{ background: linear-gradient(90deg,#ffd36b,#ff6ad8);} 
.priority-high{ background: linear-gradient(90deg,#ff6161,#ff2ec4);}

.profile-edit-form .form-group {
    margin-bottom: 12px;
}

.profile-edit-form label {
    display: block;
    margin-bottom: 4px;
    color: var(--text-muted);
    font-size: 12px;
}

.profile-edit-form input,
.profile-edit-form textarea {
    width: 100%;
    padding: 10px 12px;
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 8px;
    color: var(--text-primary);
    font-size: 14px;
    box-sizing: border-box;
}

.profile-edit-form .form-actions {
    display: flex;
    justify-content: flex-end;
    gap: 8px;
    margin-top: 16px;
}

.spinner {
    border: 4px solid rgba(255, 255, 255, 0.1);
    border-left-color: var(--accent-pink);
    border-radius: 50%;
    width: 24px;
    height: 24px;
    animation: spin 1s linear infinite;
    margin: 20px auto;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

.saved-message {
    color: #22c55e;
    font-weight: bold;
    text-align: center;
    padding: 8px;
    background: rgba(34, 197, 94, 0.1);
    border-radius: 8px;
    margin-bottom: 12px;
    animation: fadeInOut 2s ease-in-out;
}

@keyframes fadeInOut {
    0%, 100% { opacity: 0; transform: translateY(-10px); }
    10%, 90% { opacity: 1; transform: translateY(0); }
}

.profile-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 12px;
}

.avatar-placeholder {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: var(--accent-purple);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    font-weight: bold;
}

.close-button {
    position: absolute;
    top: 8px;
    right: 8px;
    background: none;
    border: none;
    color: var(--text-muted);
    font-size: 20px;
    cursor: pointer;
    line-height: 1;
}

.close-button:hover {
    color: var(--text-primary);
}

.cycle-toggle{
    display:inline-flex;
    align-items:center;
    gap:8px;
    background: rgba(255,255,255,0.04);
    border: 1px solid rgba(255,255,255,0.12);
    color: var(--text-primary);
    border-radius: 10px;
    padding: 8px 12px;
    font-size: 13px;
    cursor: pointer;
    transition: background .2s ease, transform .12s ease, border .2s ease;
}
.cycle-toggle:hover{
    background: rgba(255,255,255,0.08);
    border-color: rgba(255,255,255,0.18);
}
.cycle-toggle:active{
    transform: translateY(1px);
}
.cycle-toggle:focus{
    outline: 2px solid rgba(91,134,229,0.4);
    outline-offset: 2px;
}
.priority-pill{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    padding: 2px 8px;
    border-radius: 999px;
    text-transform: capitalize;
    font-weight: 600;
    font-size: 12px;
    letter-spacing: 0.4px;
}
.priority-pill.low{
    background: rgba(56, 189, 248, 0.18);
    color: #38bdf8;
}
.priority-pill.medium{
    background: rgba(250, 204, 21, 0.22);
    color: #facc15;
}
.priority-pill.high{
    background: rgba(248, 113, 113, 0.22);
    color: #f87171;
}
.level-pill{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    padding: 2px 8px;
    border-radius: 999px;
    font-size: 12px;
    font-weight: 600;
    letter-spacing: 0.6px;
    background: rgba(255,255,255,0.12);
    color: var(--text-primary);
}
.level-toggle{
    min-width: 70px;
    justify-content:center;
    font-weight: 600;
    letter-spacing: 0.5px;
}

.debug-panel{
    margin: 12px 0 20px;
    padding: 12px 16px;
    background: rgba(0, 0, 0, 0.18);
    border: 1px dashed rgba(255,255,255,0.18);
    border-radius: 12px;
    backdrop-filter: blur(4px);
    box-shadow: 0 6px 18px rgba(0,0,0,0.35);
}
.debug-title{
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.6px;
    color: var(--text-muted);
    margin-bottom: 10px;
}
.debug-actions{
    display:flex;
    flex-wrap:wrap;
    gap: 8px;
}
.debug-actions .btn-ghost{
    border-style: solid;
    border-color: rgba(255,255,255,0.14);
    background: rgba(255,255,255,0.04);
}
.debug-actions .btn-ghost:disabled{
    opacity: 0.6;
}
.debug-status{
    margin-top: 10px;
    font-size: 11px;
    color: var(--text-muted);
}

@media (max-width: 960px){
    .board-layout{
        max-width:100%;
        justify-content:flex-start;
    }
    .campaign-sidebar{
        position:relative;
        left:0;
        width:100%;
        box-shadow:0 12px 32px rgba(0,0,0,0.45);
    }
    .campaign-sidebar.collapsed{
        width:100%;
        align-items:flex-start;
    }
}

@media (max-width: 600px){
    .campaign-sidebar{
        gap:10px;
    }
    .campaign-sidebar.collapsed{
        flex-direction:row;
        justify-content:flex-start;
        overflow-x:auto;
    }
    .campaign-select,
    .campaign-select select{
        width:100%;
    }
    .quest-title-row{
        flex-direction:column;
        align-items:flex-start;
        gap:6px;
    }
    .quest-meta-tags{
        flex-wrap:wrap;
        gap:6px;
    }
}
