/* ANIMATIONS.CSS - All keyframe animations and transitions */

/* pulse animation for status change feedback */
.pulse {
    animation: pulse-anim .6s ease forwards;
}

.pulse-subtle {
    animation: pulse-subtle-anim .34s cubic-bezier(.2,.9,.3,1) forwards;
}

.pulse-spawn{
    animation: pulse-spawn-anim .46s cubic-bezier(.22,1.2,.32,1) forwards;
}

@keyframes pulse-anim{
    0% { transform: scale(1); box-shadow: 0 0 0 rgba(0,0,0,0); }
    30% { transform: scale(var(--anim-pulse-scale-up, 1.02)); box-shadow: 0 10px 30px var(--anim-pulse-shadow-strong, rgba(0,0,0,0.18)); }
    100% { transform: scale(1); box-shadow: 0 6px 18px var(--anim-pulse-shadow-rest, rgba(0,0,0,0.08)); }
}

@keyframes pulse-subtle-anim{
    0% { opacity: 1; transform: translateY(0) scale(1); }
    30% { opacity: 0.98; transform: translateY(-2px) scale(1.005); }
    100% { opacity: 1; transform: translateY(0) scale(1); }
}

@keyframes pulse-spawn-anim{
    0% { transform: scale(0.95); opacity: 0.2; }
    35% { transform: scale(1.03); opacity: 1; }
    100% { transform: scale(1); opacity: 1; }
}

@keyframes quest-spawn-anim{
    0% { transform: translateY(10px) scale(0.92); opacity: 0; box-shadow: 0 0 0 var(--anim-spawn-shadow-start, rgba(0,0,0,0)); }
    50% { transform: translateY(-4px) scale(1.02); opacity: 1; box-shadow: 0 18px 38px var(--anim-spawn-shadow-mid, rgba(0,0,0,0.45)); }
    100% { transform: translateY(0) scale(1); opacity: 1; box-shadow: 0 8px 30px var(--anim-spawn-shadow-end, rgba(0,0,0,0.6)); }
}

/* glow for full task completion */
.glow {
    animation: glow-anim 1.2s cubic-bezier(.2,.9,.2,1) forwards;
}

@keyframes glow-anim {
    0% { box-shadow: 0 0 0 rgba(0,0,0,0); }
    20% { box-shadow: 0 0 44px var(--anim-glow-phase-1, rgba(99,102,241,0.30)), 0 10px 44px var(--anim-glow-phase-1, rgba(99,102,241,0.14)) inset; }
    50% { box-shadow: 0 0 38px var(--anim-glow-phase-2, rgba(155,92,255,0.28)), 0 8px 30px var(--anim-glow-phase-1, rgba(99,102,241,0.12)) inset; }
    80% { box-shadow: 0 0 26px var(--anim-glow-phase-3, rgba(99,102,241,0.18)), 0 4px 18px var(--anim-glow-phase-3, rgba(99,102,241,0.08)) inset; }
    100% { box-shadow: 0 0 0 rgba(0,0,0,0); }
}

.level-up-burst{
    position:absolute;
    inset:0;
    pointer-events:none;
    display:flex;
    align-items:center;
    justify-content:center;
    animation: burst-fade 1.1s ease-out forwards;
}

.level-up-burst .burst-ring{
    position:absolute;
    width:160%;
    height:160%;
    border:2px dashed var(--anim-burst-ring-start, rgba(0,240,255,0.22));
    border-radius:999px;
    animation: burst-ring 1.1s ease-out forwards;
    opacity:0.8;
}

.level-up-burst .burst-copy{
    display:flex;
    align-items:center;
    gap:8px;
    padding:10px 16px;
    border-radius:12px;
    background: var(--anim-burst-halo-bg, rgba(0,0,0,0.68));
    border:1px solid var(--anim-burst-halo-border, rgba(255,255,255,0.14));
    text-transform:uppercase;
    letter-spacing:1px;
    font-size:11px;
    color:#ffffff;
    box-shadow: 0 12px 30px rgba(0,0,0,0.35);
    animation: burst-copy 1.05s cubic-bezier(.2,.9,.2,1) forwards;
}

.level-up-burst .burst-emoji{
    font-size:16px;
    filter: drop-shadow(0 0 6px rgba(255,255,255,0.4));
}

.level-up-burst .burst-text{
    font-family: 'Press Start 2P', monospace;
}

@keyframes burst-fade{
    0% { opacity: 0; }
    15% { opacity: 1; }
    70% { opacity: 1; }
    100% { opacity: 0; }
}

@keyframes burst-ring{
    0% { transform: scale(0.6); opacity: 0.3; border-color: var(--anim-burst-ring-start, rgba(0,240,255,0.12)); }
    40% { transform: scale(1); opacity: 0.8; border-color: var(--anim-burst-ring-mid, rgba(255,255,255,0.22)); }
    100% { transform: scale(1.25); opacity: 0; border-color: var(--anim-burst-ring-end, rgba(255,255,255,0)); }
}

@keyframes burst-copy{
    0% { transform: translateY(12px) scale(0.9); opacity: 0; }
    30% { transform: translateY(0) scale(1); opacity: 1; }
    70% { transform: translateY(-4px) scale(1.02); opacity: 1; }
    100% { transform: translateY(-6px) scale(1.02); opacity: 0; }
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

.spinner {
    border: 4px solid rgba(255, 255, 255, 0.1);
    border-left-color: var(--accent-pink);
    border-radius: 50%;
    width: 24px;
    height: 24px;
    animation: spin 1s linear infinite;
    margin: 20px auto;
}

.saved-message {
    color: #22c55e;
    font-weight: bold;
    text-align: center;
    padding: 8px;
    background: rgba(34, 197, 94, 0.1);
    border-radius: 8px;
    margin-bottom: 12px;
    animation: fadeInOut 2s ease-in-out;
}

@keyframes fadeInOut {
    0%, 100% { opacity: 0; transform: translateY(-10px); }
    10%, 90% { opacity: 1; transform: translateY(0); }
}
